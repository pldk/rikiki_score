<%= turbo_frame_tag "prediction_#{round.id}_#{player.id}" do %>    
  <div class="p-2 rounded-lg transition-colors duration-300 <%= bg_class prediction %>">
    <% if prediction.present? && prediction.actual_tricks.present? %>
      <!-- actual_tricks déjà rempli : affichage seulement -->
      <span class="text-center block text-black dark:text-gray-100 font-semibold">
        🏹 <%= prediction.predicted_tricks %> | 🎯 <%= prediction.actual_tricks %> |  <%= prediction.score&.cumulative_value %>
      </span>
    <% elsif prediction.present? %>
      <!-- actual_tricks non rempli : formulaire -->
      <%= render "predictions/form_actual",
            prediction: prediction,
            game: game %>
    <% else %>
      <!-- prédiction non existante : formulaire prédiction -->
      <%= render "predictions/form_predicted",
            round: round,
            player: player,
            game: game,
            prediction: Prediction.new %>
    <% end %>
  </div>
<% end %>
